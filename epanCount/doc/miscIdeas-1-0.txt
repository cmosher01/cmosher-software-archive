for general pop. (i.e., all active panelists, no demographics), have a main page
with counts for all DMAs, MSAs, cendiv, cen rgn, and for states: count plus link to county page
select '<a href="x">'||substr(name,1,1)||lower(substr(name,2,6000))||'</a>' from da_prod.geo where geotypeid = 15 order by name
--OR-- one page with everything!
[UPDATE: I later found out that there is already a process set up that generates
counts of this type and puts them into web pages, similar to what I describe here.
This epanCount project will not touch that system at all.]

we should store all requests online (original request from sales) for later reference
AE could forward original client emails to "epc@surveysampling.com" (EPC: E-Panel Count)
each count would have AE, date/time, and client name (could be processed from client's email address by default)

we should produce "professional looking" count reports suitable for clients' eyes
(not hand-typed email from PD to AE)
could even be HTML on web server accessible by AE and/or client
[UPDATE: typically, clients will not be interested in counts, but rather
in completed interviews, so this would probably not be useful.]

could do smart processing on cut-and-pasted geos (county ST, DMA/MSA name, ZIP code, other codes?)

need (at least) two layers of criteria: top layer applies to all groups, next layer shows what to "break out" counts by

for a given count and set of geo/demo, should we always give general pop. within geo counts too?
for DMA or MSA counts, should we automatically give the other corresponding one too?
    (would need to devise a mapping between the two) (DMA problem mappings: 513,518,
select
--dma,
--min(d.name) dmaname,
decode(grouping(msa),1,dma,null),
decode(grouping(msa),1,min(d.name),null),
decode(grouping(msa),1,null,count(*)),
msa,
decode(grouping(msa),1,null,min(m.name)) msaname
from dmamsa, da_prod.geo d, da_prod.geo m
where
d.code (+)= substr(to_char(dma,'000'),2,3) and
d.geotypeid = 3 and
m.code (+)= substr(to_char(msa,'00000'),2,5) and
m.geotypeid = 15 and
msa > 0
group by rollup(dma,msa)
order by dma, count(*) desc, msa desc
(note: should get population and base correlation on that)
[UPDATE: probably not a good idea, in retrospect]


example of income selection:
income: 0[] 20[] 30[] 40[] 50[] 60[] 75[x] 100[x] 150[x]
([] is a check box)

age: min[ ] - [ ]max (years) (inclusive)  []any HH member
        [ ]   [ ]    (months optional)

sex: []only M   []only F

geo: []ZIP  []County-name []County-FIPS []DMA-name []MSA-name []State-Postal

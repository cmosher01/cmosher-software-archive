<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<!--#include virtual="head.ihtml" -->
		<title>Epple ][ Build</title>
	</head>
	<body>
		<div id="container">
			<!--#include virtual="navigation.ihtml" -->
			<div id="content">
				<h3>Building Epple ][ From Source</h3>
				<p>
					Linux is the primary development platform supported,
					but Windows (MSYS) is minimally supported. It shouldn't
					be too hard to port to Mac either.
				</p>
				<p>
					To build epple2 from the source distribution,
					you'll need to have the SDL development libraries installed.
					See <a href="http://www.libsdl.org/">http://www.libsdl.org/</a> for information on SDL.
					You'll need to download and install the "Development Libraries"
					for your platform (Win32 or Linux).
				</p>



				<h3>Linux</h3>
				<h4>Set Up Build Environment</h4>
				<p>
					The exact steps for setting up the build environment will
					differ from system to system. You will need to set up the following:
					<ul>
						<li>Standards-compliant C++ compiler, such as <b>g++</b> (from GNU)</li>
						<li>X11 headers; look for <b>libX11-dev</b> or similar package</li>
						<li>you may need X11 extensions; for Debian, <b>x11proto-xext-dev</b> worked for me</li>
					</ul>
				</p>
				<p>
					As a sanity check for g++, type this at the shell prompt:
				</p>
				<p>
					<code>g++ --version</code>
				</p>
				<p>
					As a sanity check for X11, make sure this file exists:
				</p>
				<p>
					<code>/usr/include/X11/Xlib.h</code>
				</p>
				<p>
					I had trouble with building SDL from sources without having
					the X11 extensions installed, as shown in the above list. If
					you are not building SDL from sources, you may not need
					the X11 extensions.
				</p>
				<p>
					As a sanity check for X11 extensions, make sure this file exists:
				</p>
				<p>
					<code>/usr/include/X11/extensions/XShm.h</code>
				</p>
				<h4>Install SDL</h4>
				<p>
					You should check your distribution's package library to see if it has
					the SDL development libraries and install them from there.
				</p>
				<p>
					If not, go to <a href="http://www.libsdl.org/">http://www.libsdl.org/</a>
					and find the download page. You can either download the "Development
					Libraries" for Linux, in RPM format, and install that,
					or download the source and proceed as follows.
				</p>
				<p>
					Download the "Source Code," for example:
					<ul><li><code>SDL-1.2.13.tar.gz</code></li></ul>
					And save it to your home directory. At the bash prompt, go to your home
					directory and untar the SDL archive:
				</p>
				<code><pre>
$ cd
$ tar xzvf SDL-1.2.13.tar.gz</pre></code>
				<p>
					Then follow the instructions to install SDL, for example:
				</p>
				<code><pre>
$ cd SDL-1.2.13
$ ./configure
$ make
$ sudo make install</pre></code>

				<h4>Untar Epple ][ Source</h4>
				<p>
					<a href="download.shtml">Download</a> the Epple ][ Source Distribution
					and save it to your home directory. At the bash prompt, go to your home
					directory and untar the epple2 source distribution tar file. For example:
				</p>
				<code><pre>
$ cd
$ tar xzvf epple2-1.0.tar.gz</pre></code>
				
				<h4>Build Epple ][</h4>
				<p>
					Then build as follows. I recommend doing a VPATH build,
					where you build into a different directory than the source
					directory. To accomplish this, create a new directory for
					building, somewhere, such as:
				</p>
				<code><pre>
$ cd
$ mkdir buildepple2
$ cd buildepple2</pre></code>
				<p>
					Then run configure and make:
				</p>
				<code><pre>
$ ~/epple2-1.0/configure
$ make
$ sudo make install</pre></code>
				<p>
					If all goes well, it will build without any errors.
				</p>



				<h3>Windows/MSYS</h3>

				<h4>Install MinGW/MSYS</h4>
				<ul>
					<li>Install MSYS into <code>C:\msys\</code></li>
					<li>Install MinGW into <code>C:\msys\mingw\</code></li>
				</ul>
				<p>
					For more information on MinGW and MSYS, see <a href="http://www.mingw.org/">http://www.mingw.org/</a>.
				</p>
				
				<h4>Install SDL</h4>
				<p>
					At <a href="http://www.libsdl.org/">http://www.libsdl.org/</a> find the download page.
					Download the "Development Libraries" for Win32/mingw, for example:
					<ul><li><code>SDL-devel-1.2.13-mingw32.tar.gz</code> (Mingw32)</li></ul>
					And save it to your MSYS home directory (for example, <code>C:\msys\home\Administrator</code>).
					Run MSYS, and at the bash prompt, go to your home directory and
					untar the SDL archive to your home directory:
				</p>
				<code><pre>
$ cd
$ tar xzvf SDL-devel-1.2.13-mingw32.tar.gz</pre></code>
				<p>
					Then follow the instructions to install SDL, for example:
				</p>
				<code><pre>
$ cd SDL-1.2.13
$ make native</pre></code>
				
				<h4>Untar Epple ][ Source</h4>
				<p>
					<a href="download.shtml">Download</a> the Epple ][ Source Distribution
					and save it to your MSYS home directory (for example, <code>C:\msys\home\Administrator</code>).
					Run MSYS, and at the bash prompt, go to your home directory and
					untar the epple2 source distribution tar file. For example:
				</p>
				<code><pre>
$ cd
$ tar xzvf epple2-1.0.tar.gz</pre></code>
				
				<h4>Build Epple ][</h4>
				<p>
					Then build as follows. I recommend doing a VPATH build,
					where you build into a different directory than the source
					directory. To accomplish this, create a new directory for
					building, somewhere, such as:
				</p>
				<code><pre>
$ cd
$ mkdir buildepple2
$ cd buildepple2</pre></code>
				<p>
					Then run configure from there. For the MSYS build to work,
					you need some extra parameters to the build, and you could
					also add some compiler options to optimize the build. For
					example (from the buildepple2 directory you just created):
				</p>
				<code><pre>
$ ~/epple2/configure --prefix= \
CXXFLAGS="-I/usr/include -O4 -msse3" \
CFLAGS="-I/usr/include" \
LDFLAGS="-L/usr/lib -mconsole -mthreads -mno-cygwin"
$ make
$ make install</pre></code>
				<p>
					If all goes well, it will build without any errors.
					The result of the build (on Windows platform) is
					<ul><li><code>installer/epple2.msi</code></li></ul>
					which is an installable file for Windows. To install
					epple2, just double-click on this file from Explorer.
				</p>
			</div>
			<!--#include virtual="footer.ihtml" -->
		</div>
	</body>
</html>

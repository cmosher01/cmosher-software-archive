<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<!--#include virtual="head.ihtml" -->
		<title>Epple ][ Firmware Card</title>
	</head>
	<body>
		<div id="container">
			<!--#include virtual="navigation.ihtml" -->
			<div id="content">
				<h3>Firmware Card</h3>
				<p>
					The firmware card emulates a (modified) Apple Firmware card.
					The firmware card is simply an alternate ROM, at addresses
					$D000 through $FFFF, that is switched using the I/O switches
					at addresses $C080 through $C08F. In order to make use of the
					firmware card, you will need to load the ROM with a binary image
					from a file on disk.
					For example, to insert an Integer BASIC firmware card into the
					emulator, add these lines to your epple2.conf file:
				</p>
				<p>
<code><pre># Firmware card with Integer BASIC and old Monitor
slot 0 firmware
import slot 0 rombank 1000 /usr/lib/apple2/system/intbasic/intbasic.ex65
import slot 0 rombank 2425 /usr/lib/apple2/system/other/other.ex65
import slot 0 rombank 2800 /usr/lib/apple2/system/monitor/apple2/monitor.ex65
</pre></code>
				</p>
				<p>
					For an Applesoft BASIC firmware card, use these:
				</p>
				<p>
<code><pre># Firmware card with Applesoft BASIC and Autostart Monitor
slot 0 firmware
import slot 0 rombank 0000 /usr/lib/apple2/system/applesoft/applesoft.ex65
import slot 0 rombank 2800 /usr/lib/apple2/system/monitor/apple2plus/monitor.ex65
</pre></code>
				</p>
				<p>
					Note that the addresses specified in the epple2.conf file for the
					rombank are based on the beginning of the bank ROM itself. For example, specifying
					"1000" (which is 1000 hex) represents the final memory address of $E000, because
					the bank ROM is always based at address $D000.
				</p>
				<p>
					The idea is that you would load your motherboard with, for
					example, Applesoft BASIC and the Autostart Monitor ROM (to emulate
					an Apple ][ plus), and then install a firmware card with Integer
					BASIC and the old Monitor. Booting with DOS 3.3, then, would allow
					you to type "FP" to use Applesoft BASIC, or "INT" to switch to Integer BASIC.
				</p>
				<p>
					Note that DOS and ProDOS will make use of a firmware card only if it is in slot zero.
				</p>
				<p>
					Jim Sather, in "Understanding the Apple II," on pages 6-18 through 6-21, explains
					how to modify a firmware card to allow independent switching of the $F800-$FFFF
					ROM memory. This area is occupied by the Monitor, so it is primarily
					intended to allow the user to switch between the old Monitor and the Autostart
					Monitor, independent of switching between Integer and Applesoft BASIC. The EPPLE ][
					firmware card emulates this behavior.
				</p>
				<p>
					The information area of the EPPLE ][ will show the current state of the
					firmware card as follows:
					<table>
						<tbody>
							<tr><td><code>D</code></td><td>Read from firmware card $D000-$F7FF (vs. motherboard BASIC ROM)</td></tr>
							<tr><td><code>F8</code></td><td>Read from firmware card $F800-$FFFF (vs. motherboard Monitor ROM)</td></tr>
						</tbody>
					</table>
				</p>
			</div>
			<!--#include virtual="footer.ihtml" -->
		</div>
	</body>
</html>
